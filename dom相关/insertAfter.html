<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Document</title>
  <style>
  .box {
    width: 200px;
    height: 200px;
    color: white;
  }

  .red-box {
    background-color: red;
  }

  .blue-box {
    background-color: blue;
  }

  .black-box {
    background-color: black;
  }

  .grey-box {
    background-color: grey;
  }
  </style>
</head>

<body>
  <div class="wrap">
    <p>进行了insertBefore</p>
    <div class="blue-box box">顺序：1</div>
    <div class="red-box box">顺序： 2</div>
    <p>进行了insertAfter</p>
    <div class="black-box box">顺序： 3</div>
    <div class="grey-box box">顺序： 4</div>
  </div>
  <br>
  <script>
  document.querySelector(".wrap").insertBefore(document.querySelector(".red-box"), document.querySelector(".blue-box"));


  function insertAfter(newEle, targetEle) {
    var parent = targetEle.parentNode;
    if (targetEle === parent.lastChild) { //假如是最后一个元素则append
      parent.append(newEle);
    } else {
      parent.insertBefore(newEle, targetEle.nextSibling)
    }
  }
  insertAfter(document.querySelector(".black-box"), document.querySelector(".grey-box"));
  </script>
</body>

</html>
